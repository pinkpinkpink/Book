CPU

存储器

I/O

机器语言0、1

编译程序、解释程序

存储容量 = 存储单元个数 x 存储字长

- AI

    - 模式识别
    
    - 文字识别、语言翻译
    
- 存储器

   < 速度、容量、每位价格
   
   Cache 主存映射地址
   
   First-In-First-Out算法
   
   Least Recently Used算法
   
   
   硬磁盘存储器是计算机系统中最主要的外存设备。
   
- 输入输出系统

   I/O

## 第三章 中央处理器

- CPU

    定点数
    
    浮点数：小数点位置可以浮动的数
    
    - 加法与减法运算
    
    计算机的运算方法

    补码作加减运算

    一个负数可用他的正补数来代替，正数的补数是该正数本身。

    反码：有原码求补码或由补码求原码的中间过渡。

    整数、小数：[A]补+[B]补= [A+B]补
    
    【A-B】= [A]补 + [-B]补
    
    补码乘法
    
    浮点乘除法
    
    寻址：确定本条指令的数据地址以及下一条将要执行的指令地址的方法
    
    指令寻址：顺序寻址和跳跃寻址
    
    数据寻址

    6.5算术逻辑单元

    ALU电路

    指令系统 Page300
    
控制单元


    外存
    
    硬盘存储器：
    
    > 主机 
        磁盘存储器
        磁盘控制器
        盘片
        
        
磁盘存储容量

    > C = n x k x s;
    
    C 存储总容量
    
    n 存放信息的盘面数
    
    k 每个盘面的磁道数
    
    s 每个磁道上记录的二进制代码数
    
数据传输速率

    >   每一条磁道容量 x 磁盘转速
    
    
   
   cpu + 主存 = 主机


- CPU

无符号数和有符号数

0表示正

1表示负

机器数： 符号“数字化”的数

真值： 带 “+”“-”的数

反码： 原码求补码

移位

- Chapter 7 指令系统

1.指令由操作码和地址码组成

2.指令字长取决于操作码的长度、操作数地址的长度和操作数地址的个数

3.操作数类型

（1）地址无符号的整数

（2）数字

（3）字符

（4）逻辑数据 n个0和1的数字组合

7.2.2 数据在存储器中存放形式

数据存放在寄存器或存储器中，寄存器的位数可以反应机器字长，为了便于硬件实现，多字节的数据在存储器的存放方式满足“边界对准”

7.2.3操作类型

（1）数据传送

数据传送包括寄存器与寄存器、寄存器与逻辑单元、逻辑单元与逻辑单元之间的传送。

（2）算数逻辑操作

（3）移位

    算数移位、逻辑移位、循环移位

（4）转移

（5）输入输出指令

## 7.3 寻址方式

    寻址方式是本条指令的数据地址到下条将要执行的指令地址的方式

- 数据寻址

    操作数的真实地址为有效地址

    - 立即寻址

        操作数本身在地址内，指令中的形式地址不是操作数的地址

    - 直接寻址

        指令中的形式地址就是真实地址

- 指令寻址

    - 顺序寻址

    - 跳跃寻址

7.5 RISC技术

    指令精简技术(Reduced Instruction Set Computer)

    变址寻址和相对寻址

## Chapter8 CPU的结构和功能 Page338


- 第八讲 
运算方法和运算器

定点乘法运算

补码的一位乘法
补码比较算法
（1）符号位参加运算
（2）

存储器层次结构
编址方式
随机存储 DRAM cahe
顺序存储 磁带
直接存储 磁盘
相连存储 内容检索

存储介质
读写
    只读
    读写

内存、缓存

CPU寄存器 指令寄存器
高速缓存Cache
主存 内存
外存

外存储器 <程序 数据> 内存储器 <硬件> CPU

主存的结构 


# 计算机组成原理 南京大学

## 计算机系统概论

计算机系统 = 计算机硬件+计算机软件（=程序和相关的数据）

### 冯-诺伊曼结构

    存储程序

    二进制（指令和数据）

    运算器、控制器、存储器、输入、输出五大部分组成。

### 现代计算机模型

CPU —— 数据处理（运算器）控制（控制器）

存储器 —— 数据存储

I/O模块 —— 数据传送

- 计算机是如何工作的？（做菜）

     程序由指令组成（菜单由菜谱组成）

程序执行前
数据 指令 按序 存储器 存储单元地址
程序执行后
PC取指令（OP ADDR）

指令编译

取操作数

指令执行

回写结果

修改PC值

执行下一条指令

指令和数据

操作码

### 从机器语言到高级编程语言



- 机器语言 二进制

    所有信息都是0/1序列！

- 汇编语言 符号表示
    
    符号表示跳转位置和变量位置

    机器不认识指令？

- 高级语言

     面向算法描述

     面向过程面向对象

     编译 目标程序

     解释 

### 程序开发和执行及其支撑环境

程序转换处理过程
 
    hello.c （预处理ccp）hello.i (编译cc1) hello.s 汇编 

 程序数据流动过程

    $ ./hello

    存储部件

 不同层次语言之间的等价转换

    编译程序 汇编语言 指令译码器

开发与运行程序的支撑

编译

解释

语言处理程序+运行系统+操作系统内核+指令体系结构+计算机硬件+人机接口

操作系统和语言处理系统

### 现代计算机系统层次结构
“如何做”
“做什么”

应用程序
语言处理系统
操作系统
指令集体系结构
计算机硬件

应用（用户）

算法 （程序员）
编程
操作系统/虚拟机 （指令直接对硬件进行编程控制）

指令集体系结构ISA  最重要的层次 （系统程序员）
功能部件    （架构师）
电路    （电子工程师）
器件


Instruction Set Architecture 规定了如何使用硬件
    
    指令格式、操作种类

    寄存器的名称、编号、长度、用途

    存储空间的大小和编址方式

    寻址方式

    没有ISA，软件无法使用计算机硬件

## 计算机性能评价 **重点**

芯片

圆晶

Integrated Circuits Costs

Time to do the task

response time

execution time
 
latency

Tasks per day,hour,sec

throughput

bandwidth

CPU**执行时间**来衡量

用户CPU时间 —— CPU性能

系统CPU时间

Cycles Per Instruction

== CPU时钟周期数/程序 X 

Architure = Instrtion Set Arch + Organization Computer Design

### 系统总线

#### 总线基本概念

     总线用来互连，与其他部件的输入/出信息，部件之间架设通信线路

CPU——主存

主存——I/O

I/O——CPU

地址、数据、控制信息

CPU从主存取数据
CPU把结果数据送主存

#### 总线的分类

内部总线 芯片内部  数据

系统总线 CPU、存储器部件之间 数据、地址、控制信息

通信总线 主机和I/O设备之间

系统总线由控制、数据、地址线组成

#### 总线的特性和性能指标

一组电导线，在部件间共享传输信息。

物理机械特性

串行总线、并行总线

电气特性：

总线宽度：8、16、32、64
信号类型
定时方式
事物类型
工作频率（时钟频率）MHZ
总线带宽（最大传输速率）

处理器总线的带宽
==
每个时钟周期传输两次

I/O总线的带宽==（串行总线）


#### 总线结构

单总线结构

多总线结构

#### 总线裁决 

总线判优优控制：确定总线主控设备。

集中裁决方式：总线控制逻辑

菊花链查询：串行 2根裁决线
计数器定时查询：log2n根裁决线
独立请求：响应速度快、可编程、控制逻辑复杂、控制线很多 2n根裁决线
裁决算法：固定的并行判优算法、平等的循环菊花链算法、动态优先级算法（最近最少用算法、先来先服务算法）

分布裁决方式

总线裁决信号线

####  总线通讯控制

总线定时

总线通信控制何时开始何时结束

总线传输1.总线裁决2寻址阶段3.数据传输阶段4结束阶段

同步控制：时钟信号线 时钟周期  速度快 突发burst传输方式（突发长度）、接口逻辑少，传输速率=时钟频率X4
    按时间点约会
异步通信方式：没有公共的  握手协议（应答方式）
    按电话联系进行约会

    三条控制线：
    ReadReq：读请求
    DataRdy: 数据就绪
    Ack：回答
    总共7次握手包含两次应答，分别用来传输地址和数据
    - 非互锁
    - 半互锁
    - 全互锁

    对噪声敏感、接口逻辑复杂
半同步通信控制：时钟信号 就绪和应答
所有信号都有时钟信号决定

分离式通信控制
将传输事物分成两个子过程，提高总有效带宽


